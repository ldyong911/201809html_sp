<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	table, tr, td{
		padding : 0px;
		border-collapse: collapse;
	}
	img{
		display:block;
	}
</style>
<script type="text/javascript">
	var arr2D = new Array();
	var arr2Dimg = new Array();
	
	function init(){
		//javascript는 2차원배열 개념이 없기 때문에 배열1을 생성후 배열2에 넣어준다 
		for(var i=0; i<10; i++){
			var arrRow = new Array();
			arrRow.push(0);arrRow.push(0);
			arrRow.push(0);arrRow.push(0);
			arrRow.push(0);arrRow.push(0);
			arrRow.push(0);arrRow.push(0);
			arrRow.push(0);arrRow.push(0);
			arr2D.push(arrRow);	
		}
		
		//이미지태그
		var grids = document.getElementsByClassName("grid");
		
		//배열 한개를 생성한후 img태그를 한번에 10줄씩 추가
		for(var i=0; i<grids.length; i+=10){
			var arrRowImg = new Array();
			arrRowImg.push(grids[i+0]);
			arrRowImg.push(grids[i+1]);
			arrRowImg.push(grids[i+2]);
			arrRowImg.push(grids[i+3]);
			arrRowImg.push(grids[i+4]);
			arrRowImg.push(grids[i+5]);
			arrRowImg.push(grids[i+6]);
			arrRowImg.push(grids[i+7]);
			arrRowImg.push(grids[i+8]);
			arrRowImg.push(grids[i+9]);
			arr2Dimg.push(arrRowImg);
		}
		
		console.log(arr2D);
		console.log(arr2Dimg);
		
		//위치를 클릭하면 좌표를 띄우게 alt(말풍선같은역할) 설정
		for(var i=0; i<arr2D.length; i++){
			for(var j=0; j<arr2Dimg.length; j++){
				arr2Dimg[i][j].alt = i + "," + j;
			}
		}
		
	}
	
	//화면출력
	function myDisplay(){
		for(var i=0; i<arr2D.length; i++){
			for(var j=0; j<arr2Dimg.length; j++){
				arr2Dimg[i][j].src = "01/"+arr2D[i][j]+".jpg";
			}
		}
	}
	
	var status = 1; //흑돌상태
	
	//클릭했을때
	function myClick(obj){
		//안놓아지는 상태면 리턴
		if(status == 0){
			return;
		}
		
		var str_alt = obj.alt;
		var arr_alt = str_alt.split(",");
		var i = Number(arr_alt[0]);
		var j = Number(arr_alt[1]);
		
		if(arr2D[i][j] != 0){
			alert("임마");
			return;
		}
		
		arr2D[i][j] = status; //맨처음 흑돌넣기위해 흑돌상태 세팅
		myDisplay();
		
		//바둑돌 놓인개수 체크
		var cnt_top = fn_top(i, j);
		var cnt_down = fn_down(i, j);
		
		var cnt_left = fn_left(i, j);
		var cnt_right = fn_right(i, j);
		
		var cnt_topleft = fn_topleft(i, j);
		var cnt_downright = fn_downright(i, j);
		
		var cnt_topright= fn_topright(i, j);
		var cnt_downleft = fn_downleft(i, j);
		
		var arr_cnt = new Array();
		arr_cnt.push(cnt_top + cnt_down + 1);
		arr_cnt.push(cnt_left + cnt_right + 1);
		arr_cnt.push(cnt_topleft + cnt_downright + 1);
		arr_cnt.push(cnt_topright + cnt_downleft + 1);
		
		for(var i=0; i<arr_cnt.length; i++){
			if(arr_cnt[i] == 5){
				if(status == 1){
					alert("흑돌이 이겼습니다.");
				}else{
					alert("백돌이 이겼습니다.");
				}
				status = 0; //끝나면 돌이 안놓아지는 상태로 놓음
				return;
			}
		}
		
		//상태바꿔주기
		if(status == 1){ //흑돌상태
			status = 2;
		}else if(status == 2){ //백돌상태
			status = 1;
		}
	}
	
	function fn_top(i,j){
		var ret_cnt = 0;
		
		while(true){
			i = i-1;
			j = j;
			
			//바둑판 끝에서 체크할때 배열인덱스 벗어나는 에러 try catch
			try {
				if(arr2D[i][j] == status){
					ret_cnt++;
				}else{
					return ret_cnt;
				}
			} catch (e) {
				return ret_cnt;
			}
		}
	}
	
	function fn_down(i,j){
		var ret_cnt = 0;
		
		while(true){
			i = i+1;
			j = j;
			
			try {
				if(arr2D[i][j] == status){
					ret_cnt++;
				}else{
					return ret_cnt;
				}
			} catch (e) {
				return ret_cnt;
			}
		}
	}
	
	function fn_left(i,j){
		var ret_cnt = 0;
		
		while(true){
			i = i;
			j = j-1;
			
			try {
				if(arr2D[i][j] == status){
					ret_cnt++;
				}else{
					return ret_cnt;
				}
			} catch (e) {
				return ret_cnt;
			}
		}
	}
	
	function fn_right(i,j){
		var ret_cnt = 0;
		
		while(true){
			i = i;
			j = j+1;
			
			try {
				if(arr2D[i][j] == status){
					ret_cnt++;
				}else{
					return ret_cnt;
				}
			} catch (e) {
				return ret_cnt;
			}
		}
	}
	
	function fn_topleft(i,j){
		var ret_cnt = 0;
		
		while(true){
			i = i-1;
			j = j-1;
			
			try {
				if(arr2D[i][j] == status){
					ret_cnt++;
				}else{
					return ret_cnt;
				}
			} catch (e) {
				return ret_cnt;
			}
		}
	}
	
	function fn_downright(i,j){
		var ret_cnt = 0;
		
		while(true){
			i = i+1;
			j = j+1;
			
			try {
				if(arr2D[i][j] == status){
					ret_cnt++;
				}else{
					return ret_cnt;
				}
			} catch (e) {
				return ret_cnt;
			}
		}
	}
	
	function fn_topright(i,j){
		var ret_cnt = 0;
		
		while(true){
			i = i-1;
			j = j+1;
			
			try {
				if(arr2D[i][j] == status){
					ret_cnt++;
				}else{
					return ret_cnt;
				}
			} catch (e) {
				return ret_cnt;
			}
		}
	}
	
	function fn_downleft(i,j){
		var ret_cnt = 0;
		
		while(true){
			i = i+1;
			j = j-1;
			
			try {
				if(arr2D[i][j] == status){
					ret_cnt++;
				}else{
					return ret_cnt;
				}
			} catch (e) {
				return ret_cnt;
			}
		}
	}
	
</script>
</head>
<body onload="init()">
<a href="javascript:myDisplay()">화면보기</a>
	<table id="mytable">
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		<tr>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
			<td><img class="grid" src="01/0.jpg" onclick="myClick(this)"/></td>
		</tr>
		
	</table>
</body>
</html>